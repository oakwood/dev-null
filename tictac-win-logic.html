<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>JS Bin</title>
</head>
<body>
  
</body>
<script type="text/javascript">
	
var Player = {
	x : [],
	o : []
};

function inarow(player){
	var Row = [0,0,0],
		Col = [0,0,0],
		Dia = [0,0];

	for(var key in Player[player]){
		var pos_x = Player[player][key][0],
			pos_y = Player[player][key][1];

		Col[pos_x]++;
		Row[pos_y]++;

		if (pos_x == 1 && pos_y == 1) {
			// both diagonals
			Dia[0]++;
			Dia[1]++;
		} else if( (pos_x == 0 && pos_y == 0) || pos_x == 2 && pos_y == 2 ) {
			// this angle: \
			Dia[0]++;
		} else if( (pos_x == 2 && pos_y == 0) || pos_x == 0 && pos_y == 2 ) {
			// this angle: /
			Dia[1]++;
		}

		if (Row[pos_y] == 3 || Col[pos_x] == 3 || Dia[0] == 3 || Dia[1] == 3) return 'you won!';
	}

	return 'keep playing';
}

function place(player, x, y){
	var opponent = player == 'o' ? 'x' : 'o'

	// see if cell is occupied by opponent
	for(var key in Player[opponent]){
		var pos_x = Player[opponent][key][0],
			pos_y = Player[opponent][key][1];

		if(pos_x == x && pos_y == y) {
			console.log('occupied by opponent');
			return false;
		}
	}

	// see if cell is occupied by you
	for(var key in Player[player]){
		var pos_x = Player[player][key][0],
			pos_y = Player[player][key][1];

		if(pos_x == x && pos_y == y) {
			console.log('occupied by you');
			return false;
		}
	}

	// add to board
	console.log('free space');
	Player[player].push([x,y]);

	// see if player won
	return inarow(player);
}
</script>


</html>
